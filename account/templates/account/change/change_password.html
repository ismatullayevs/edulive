{% load crispy_forms_tags %}
{% load widget_tweaks %}
<div hx-target="this" hx-swap="outerHTML">
    <form action="" method="post">

        {% if messages and active %}
            {% for message in messages %}
                <div class="alert {{ message.tags }} alert-dismissible fade show" role="alert">
                    <strong>{{ object }}</strong> {{ message }}
                    <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
                </div>
            {% endfor %}
        {% endif %}



        {% csrf_token %}
        <div class="mb-3">
            <label class="form-label">Joriy parol</label>
            {% render_field form_change.old_password class="form-control" placeholder=" joriy parol" %}

        </div>
        <!-- New password -->
        <div class="mb-3">
            <label class="form-label"> Yangi parolni kiriting</label>
            <div class="input-group">
                {% render_field form_change.new_password1 class="form-control" placeholder="Yangi parol kiriting" %}
            </div>
            <div class="rounded mt-1" id="psw-strength"></div>
        </div>
        <!-- Confirm password -->
        <div>
            <label class="form-label">Yangi parolni tasdiqlash</label>
            {% render_field form_change.new_password2 class="form-control" placeholder="Yangi parolni tasdiqlash" %}

        </div>
        <!-- Button -->
        <div class="d-flex justify-content-end mt-4">
            <button hx-post="{% url 'account:password_change' %}" hx-encoding="multipart/form-data" type="submit"
                    class="btn btn-primary mb-0">Parolni yangilash
            </button>
        </div>
    </form>

</div>
